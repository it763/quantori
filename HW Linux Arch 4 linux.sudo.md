## HW Linux Arch 4 linux.sudo
Иногда бывает задача записать stdout в файл, на который у пользователя нет прав:
$ echo “Secret Password” > /root/password.txt
permission denied
Начинающие пользователи сразу пробуют применить программу sudo:
$ sudo echo “Secret Password” > /root/password.txt
permission denied
Однако sudo здесь не помогает.
* Почему такое использование sudo не срабатывает?  
Команда не срабатывает до конца потому что в этом случае при помощи sudo запускается программа echo с привелегиями суперпользователя, которая выводит в stdout текст. Но поместить этот текст в файл /root/password.txt
должна уже оболочка bash, а она отрабатывает с правами пользователя. Отсюда ошибка permission denied.
* Как можно обойти?  
Чтобы обойти ограничение можно переключиться на суперпользователя -  **su** , тем самым запустив оболочку с правами суперпользователя.
* Как правильно собрать такой pipeline с sudo?  
**sudo bash -c 'echo Secret Password >> /root/password.txt'**  
Либо, если нужно использовать именно pipeline, можно прибегнуть к помощи команды tee, которая выводит результат выполенения команды одновременно и в stdout и в файл.  
**echo SeretPass1 | sudo tee -a /root/password.txt**
  
Важно чтобы пользователь, от имени которого выполняются команды имел права на запуск sudo, был включен в /etc/sudoers.

